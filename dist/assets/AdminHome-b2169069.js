import{j as e,b as t,c as r,d as a,g as s,e as l,f as o}from"./index-a672d2d6.js";import{r as i}from"./vendor-79b9f383.js";import{m as n,A as d}from"./animations-f7009316.js";const c=({checkin:t,onEdit:r,onDuplicate:a,onDelete:s,onTogglePublish:l})=>{const o=e=>{if(!e)return"Sem data";let t;return t=e.toDate?e.toDate():new Date(e),new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)},i=async(e,t)=>{try{await e()}catch(r){alert(`Erro ao ${t}. Tente novamente.`)}};return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"glass-card p-6 hover:bg-white/5 transition-all duration-200 border-l-4 border-l-primary/50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-light mb-2 line-clamp-2",children:t.title}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium border "+(d=t.isPublished,d?"bg-green-500/20 border-green-500/30 text-green-400":"bg-yellow-500/20 border-yellow-500/30 text-yellow-400"),children:(e=>e?"Publicado":"Rascunho")(t.isPublished)}),e.jsxs("span",{className:"text-text-muted text-sm",children:["/",t.slug]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>l(t.id,!t.isPublished),className:"p-2 rounded-lg transition-all duration-200 "+(t.isPublished?"bg-yellow-500/20 hover:bg-yellow-500/30 border border-yellow-500/30 text-yellow-400":"bg-green-500/20 hover:bg-green-500/30 border border-green-500/30 text-green-400"),title:t.isPublished?"Despublicar":"Publicar",children:t.isPublished?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L21 21l-3.29-3.29m-7.532-7.532L21 21"})}):e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-text-muted",children:"Contagem regressiva:"}),e.jsx("span",{className:"text-text-light ml-2",children:o(t.countdownDate)})]}),t.isPublished&&e.jsxs("div",{children:[e.jsx("span",{className:"text-text-muted",children:"URL:"}),e.jsxs("a",{href:`/${t.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary-light ml-2 underline",children:["/",t.slug]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-text-muted",children:"Criado em:"}),e.jsx("span",{className:"text-text-light ml-2",children:o(t.createdAt)})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-white/10",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r(t),className:"px-3 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 text-blue-400 rounded-lg transition-all duration-200 text-sm font-medium",children:"Editar"}),e.jsx("button",{onClick:()=>i(()=>a(t.id),"duplicar"),className:"px-3 py-2 bg-purple-500/20 hover:bg-purple-500/30 border border-purple-500/30 text-purple-400 rounded-lg transition-all duration-200 text-sm font-medium",children:"Duplicar"})]}),e.jsx("button",{onClick:()=>{confirm(`Tem certeza que deseja excluir "${t.title}"?`)&&i(()=>s(t.id),"excluir")},className:"px-3 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 text-red-400 rounded-lg transition-all duration-200 text-sm font-medium",children:"Excluir"})]})]});var d},u=({isOpen:s,onClose:l,checkin:o,onSave:c})=>{var u;const[m,x]=i.useState({title:"",slug:"",countdownDate:"",whatsappUrl:"",calendarUrl:"",recordingUrl:"",codeUrl:"",lessons:[]}),[p,h]=i.useState(!1),[g,b]=i.useState({}),[f,v]=i.useState(!1),y=!!o,j=[{id:0,day:"TER√áA",date:"19 AGO",title:"Fundamentos da Programa√ß√£o: Seu Mapa do Tesouro",time:"Ao vivo √†s 20h no Zoom",type:"live",color:"primary",gradient:"from-primary/20 to-primary-light/20",border:"border-primary/30",icon:"üöÄ",topics:["O que √© programa√ß√£o e como funciona o mundo dos c√≥digos","Passo a passo completo para se tornar um programador profissional","As tecnologias mais procuradas pelas empresas em 2025","Como dominar as ferramentas que o mercado exige","In√≠cio do nosso projeto pr√°tico + entrega do mapa completo da sua jornada"]},{id:1,day:"QUARTA",date:"20 AGO",title:"Segunda Tecnologia + O Que Empresas Procuram",time:"Ao vivo √†s 20h no Zoom",type:"live",color:"emerald",gradient:"from-emerald-500/20 to-green-500/20",border:"border-emerald-500/30",icon:"üí°",topics:["Aprendendo nossa segunda tecnologia essencial","Evolu√ß√£o significativa do nosso projeto pr√°tico","Os requisitos reais que empresas buscam em candidatos","Como se destacar em processos seletivos","Habilidades t√©cnicas e comportamentais valorizadas"]},{id:2,day:"QUINTA",date:"21 AGO",title:"‚≠ê AULA MAIS IMPORTANTE: JavaScript + DevClub",time:"Ao vivo √†s 20h no Zoom",type:"live",color:"red",gradient:"from-red-500/20 to-orange-500/20",border:"border-red-500/30",icon:"üî•",topics:["JavaScript: a linguagem de programa√ß√£o mais usada do mundo","Deixando nossa aplica√ß√£o 90% pronta e funcional","T√©cnicas avan√ßadas que impressionam recrutadores","Tudo sobre o DevClub: sua comunidade de transforma√ß√£o","Como aproveitar ao m√°ximo nossa metodologia exclusiva"]},{id:3,day:"S√ÅBADO",date:"23 AGO",title:"üéÅ AULA B√îNUS: Tira-D√∫vidas Exclusivo com Rodolfo",time:"Ao vivo √†s 14h no Zoom",type:"live",color:"yellow",gradient:"from-yellow-500/20 to-amber-500/20",border:"border-yellow-500/30",icon:"üí¨",topics:["Sess√£o exclusiva de perguntas e respostas ao vivo","Resolu√ß√£o de d√∫vidas t√©cnicas do projeto","Mentoria personalizada para seus desafios","Dicas avan√ßadas que n√£o cabem nas aulas regulares","Networking e conex√£o direta com o instrutor"]},{id:4,day:"DOMINGO",date:"24 AGO",title:"Masterclass com Fernanda: A Melhor Recrutadora do Brasil",time:"Ao vivo √†s 20h no Zoom",type:"live",color:"purple",gradient:"from-purple-500/20 to-violet-500/20",border:"border-purple-500/30",icon:"üë©‚Äçüíº",topics:["Como criar um LinkedIn que gera entrevistas automaticamente","Curr√≠culo perfeito: template que aprovamos em grandes empresas","Prepara√ß√£o completa para entrevistas t√©cnicas e comportamentais","As perguntas mais dif√≠ceis e como respond√™-las com confian√ßa","Segredos de recrutadores que ningu√©m te conta"]}];i.useEffect(()=>{var e,t,r;x(o?{title:o.title||"",slug:o.slug||"",countdownDate:o.countdownDate&&("string"==typeof o.countdownDate?o.countdownDate:null==(r=null==(t=(e=o.countdownDate).toDate)?void 0:t.call(e))?void 0:r.toISOString().slice(0,16))||"",whatsappUrl:o.whatsappUrl||"",calendarUrl:o.calendarUrl||"",recordingUrl:o.recordingUrl||"",codeUrl:o.codeUrl||"",lessons:o.lessons||j}:{title:"",slug:"",countdownDate:"",whatsappUrl:"",calendarUrl:"",recordingUrl:"",codeUrl:"",lessons:[...j]}),b({})},[o,s]);const w=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),N=async e=>{if(!e)return!0;v(!0);try{return!(await a(e,null==o?void 0:o.id))}catch(t){return!1}finally{v(!1)}},k=e=>{const{name:t,value:r}=e.target;if(x(e=>({...e,[t]:r})),"title"===t&&!y){const e=w(r);x(t=>({...t,slug:e}))}g[t]&&b(e=>({...e,[t]:""}))},C=(e,t,r)=>{x(a=>({...a,lessons:a.lessons.map((a,s)=>s===e?{...a,[t]:r}:a)}))},D=e=>{try{return new URL(e),!0}catch(t){return!1}};return s?e.jsx(d,{children:e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),e.jsx(n.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-light",style:{fontFamily:"var(--font-chakra-petch), system-ui, sans-serif"},children:y?"Editar Check-in":"Novo Check-in"}),e.jsx("button",{onClick:l,className:"p-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 rounded-lg transition-all duration-200",children:e.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g.general&&e.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-red-400 text-sm",children:g.general})}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();if(await(async()=>{const e={};m.title.trim()||(e.title="T√≠tulo √© obrigat√≥rio"),m.slug.trim()?await N(m.slug)||(e.slug="Este slug j√° est√° sendo usado"):e.slug="Slug √© obrigat√≥rio";m.countdownDate?new Date(m.countdownDate)<=new Date&&(e.countdownDate="Data deve ser no futuro"):e.countdownDate="Data da contagem regressiva √© obrigat√≥ria";return["whatsappUrl","calendarUrl","recordingUrl","codeUrl"].forEach(t=>{const r=m[t];r&&!D(r)&&(e[t]="URL inv√°lida")}),b(e),0===Object.keys(e).length})()){h(!0);try{const e={...m,countdownDate:new Date(m.countdownDate).toISOString()};let a;a=y?await t(o.id,e):await r(e),a.success?c():b({general:a.error})}catch(a){b({general:"Erro inesperado ao salvar"})}finally{h(!1)}}},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"T√≠tulo Principal *"}),e.jsx("input",{type:"text",name:"title",value:m.title,onChange:k,placeholder:"Ex: O Bootcamp Programador em 7 Dias est√° chegando",className:"w-full px-4 py-3 bg-white/10 border rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50 "+(g.title?"border-red-500/50":"border-white/20")}),g.title&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"URL (Slug) *"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-text-muted mr-2",children:["/"," "]}),e.jsx("input",{type:"text",name:"slug",value:m.slug,onChange:async e=>{const t=w(e.target.value);if(x(e=>({...e,slug:t})),t){const e=await N(t);b(e?e=>({...e,slug:""}):e=>({...e,slug:"Este slug j√° est√° sendo usado"}))}},placeholder:"bootcamp-2025",className:"flex-1 px-4 py-3 bg-white/10 border rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50 "+(g.slug?"border-red-500/50":"border-white/20")}),f&&e.jsx("div",{className:"ml-2",children:e.jsxs("svg",{className:"animate-spin h-5 w-5 text-primary",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),g.slug&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.slug}),e.jsxs("p",{className:"text-text-muted text-sm mt-1",children:["Esta ser√° a URL da p√°gina: /",m.slug]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Data e Hora da Contagem Regressiva *"}),e.jsx("input",{type:"datetime-local",name:"countdownDate",value:m.countdownDate,onChange:k,className:"w-full px-4 py-3 bg-white/10 border rounded-lg text-text-light focus:outline-none focus:ring-2 focus:ring-primary/50 "+(g.countdownDate?"border-red-500/50":"border-white/20")}),g.countdownDate&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.countdownDate})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-light",children:"Links Configur√°veis"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Link do Grupo WhatsApp"}),e.jsx("input",{type:"url",name:"whatsappUrl",value:m.whatsappUrl,onChange:k,placeholder:"https://sndflw.com/i/bootcamp-...",className:"w-full px-4 py-3 bg-white/10 border rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50 "+(g.whatsappUrl?"border-red-500/50":"border-white/20")}),g.whatsappUrl&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.whatsappUrl})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Link do Google Calendar"}),e.jsx("input",{type:"url",name:"calendarUrl",value:m.calendarUrl,onChange:k,placeholder:"https://calendar.google.com/calendar/...",className:"w-full px-4 py-3 bg-white/10 border rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50 "+(g.calendarUrl?"border-red-500/50":"border-white/20")}),g.calendarUrl&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.calendarUrl})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Link da Grava√ß√£o Vital√≠cia"}),e.jsx("input",{type:"url",name:"recordingUrl",value:m.recordingUrl,onChange:k,placeholder:"https://pay.assiny.com.br/...",className:"w-full px-4 py-3 bg-white/10 border rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50 "+(g.recordingUrl?"border-red-500/50":"border-white/20")}),g.recordingUrl&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.recordingUrl})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Link do C√≥digo Completo"}),e.jsx("input",{type:"url",name:"codeUrl",value:m.codeUrl,onChange:k,placeholder:"https://pay.assiny.com.br/...",className:"w-full px-4 py-3 bg-white/10 border rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50 "+(g.codeUrl?"border-red-500/50":"border-white/20")}),g.codeUrl&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.codeUrl})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-light",children:"Cronograma das Aulas"}),e.jsx("div",{className:"space-y-6",children:null==(u=m.lessons)?void 0:u.map((t,r)=>{var a;return e.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Dia da Semana"}),e.jsx("input",{type:"text",value:t.day,onChange:e=>C(r,"day",e.target.value),placeholder:"TER√áA",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Data (formato: DD MMM)"}),e.jsx("input",{type:"text",value:t.date,onChange:e=>C(r,"date",e.target.value),placeholder:"19 AGO",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50"})]})]}),e.jsxs("div",{className:"space-y-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"T√≠tulo da Aula"}),e.jsx("input",{type:"text",value:t.title,onChange:e=>C(r,"title",e.target.value),placeholder:"Fundamentos da Programa√ß√£o: Seu Mapa do Tesouro",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"Hor√°rio"}),e.jsx("input",{type:"text",value:t.time,onChange:e=>C(r,"time",e.target.value),placeholder:"Ao vivo √†s 20h no Zoom",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-light mb-2",children:"T√≥picos da Aula"}),e.jsxs("div",{className:"space-y-2",children:[null==(a=t.topics)?void 0:a.map((t,a)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t,onChange:e=>((e,t,r)=>{x(a=>({...a,lessons:a.lessons.map((a,s)=>s===e?{...a,topics:a.topics.map((e,a)=>a===t?r:e)}:a)}))})(r,a,e.target.value),placeholder:"Digite o t√≥pico da aula",className:"flex-1 px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50"}),e.jsx("button",{type:"button",onClick:()=>((e,t)=>{x(r=>({...r,lessons:r.lessons.map((r,a)=>a===e?{...r,topics:r.topics.filter((e,r)=>r!==t)}:r)}))})(r,a),className:"p-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 text-red-400 rounded-lg transition-all duration-200",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},a)),e.jsx("button",{type:"button",onClick:()=>(e=>{x(t=>({...t,lessons:t.lessons.map((t,r)=>r===e?{...t,topics:[...t.topics,""]}:t)}))})(r),className:"w-full py-2 px-3 bg-primary/20 hover:bg-primary/30 border border-primary/30 text-primary rounded-lg transition-all duration-200 text-sm",children:"+ Adicionar T√≥pico"})]})]})]},t.id)})})]}),e.jsxs("div",{className:"flex gap-4 pt-6 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:l,className:"flex-1 py-3 px-4 bg-gray-500/20 hover:bg-gray-500/30 border border-gray-500/30 text-gray-400 rounded-lg transition-all duration-200",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:p||f,className:"flex-1 py-3 px-4 bg-primary hover:bg-primary-light text-white rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Salvando...":y?"Atualizar":"Criar"})]})]})]})})]})}):null},m=()=>{const[r,a]=i.useState([]),[n,d]=i.useState(!0),[m,x]=i.useState(""),[p,h]=i.useState(!1),[g,b]=i.useState(null),[f,v]=i.useState(""),[y,j]=i.useState("all"),w=async()=>{try{d(!0);const e=await s();e.success?a(e.data):x(e.error)}catch(e){x("Erro ao carregar check-ins")}finally{d(!1)}};i.useEffect(()=>{w()},[]);const N=r.filter(e=>{const t=e.title.toLowerCase().includes(f.toLowerCase())||e.slug.toLowerCase().includes(f.toLowerCase()),r="all"===y||"published"===y&&e.isPublished||"draft"===y&&!e.isPublished;return t&&r}),k=()=>{b(null),h(!0)},C=e=>{b(e),h(!0)},D=async e=>{try{const t=await l(e);t.success?a(r.filter(t=>t.id!==e)):alert("Erro ao excluir: "+t.error)}catch(t){alert("Erro ao excluir check-in")}},U=async e=>{try{const t=await o(e);t.success?w():alert("Erro ao duplicar: "+t.error)}catch(t){alert("Erro ao duplicar check-in")}},A=async(e,s)=>{try{const l=await t(e,{isPublished:s});l.success?a(r.map(t=>t.id===e?{...t,isPublished:s}:t)):alert("Erro ao alterar status: "+l.error)}catch(l){alert("Erro ao alterar status de publica√ß√£o")}};return n?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-text-light mb-2",style:{fontFamily:"var(--font-chakra-petch), system-ui, sans-serif"},children:"Check-ins"}),e.jsx("p",{className:"text-text-muted",children:"Gerencie suas p√°ginas de check-in"})]}),e.jsxs("button",{onClick:k,className:"px-6 py-3 bg-primary hover:bg-primary-light text-white rounded-lg font-semibold transition-all duration-200 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Novo Check-in"]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Buscar por t√≠tulo ou slug...",value:f,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-text-light placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50"})}),e.jsx("div",{children:e.jsxs("select",{value:y,onChange:e=>j(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-text-light focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50",children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"published",children:"Publicados"}),e.jsx("option",{value:"draft",children:"Rascunhos"})]})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex gap-6 text-sm",children:[e.jsxs("span",{className:"text-text-muted",children:["Total: ",e.jsx("span",{className:"text-text-light font-medium",children:r.length})]}),e.jsxs("span",{className:"text-text-muted",children:["Publicados: ",e.jsx("span",{className:"text-green-400 font-medium",children:r.filter(e=>e.isPublished).length})]}),e.jsxs("span",{className:"text-text-muted",children:["Rascunhos: ",e.jsx("span",{className:"text-yellow-400 font-medium",children:r.filter(e=>!e.isPublished).length})]})]})]}),m&&e.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-red-400",children:m})}),0===N.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4 opacity-50",children:"üìã"}),e.jsx("h3",{className:"text-xl font-semibold text-text-light mb-2",children:f||"all"!==y?"Nenhum resultado encontrado":"Nenhum check-in criado"}),e.jsx("p",{className:"text-text-muted mb-6",children:f||"all"!==y?"Tente alterar os filtros de busca":'Clique em "Novo Check-in" para come√ßar'}),!f&&"all"===y&&e.jsx("button",{onClick:k,className:"px-6 py-3 bg-primary hover:bg-primary-light text-white rounded-lg font-semibold transition-all duration-200",children:"Criar Primeiro Check-in"})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.map(t=>e.jsx(c,{checkin:t,onEdit:C,onDelete:D,onDuplicate:U,onTogglePublish:A},t.id))}),p&&e.jsx(u,{isOpen:p,onClose:()=>{h(!1),b(null)},checkin:g,onSave:()=>{w(),h(!1),b(null)}})]})};export{m as default};
